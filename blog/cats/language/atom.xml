<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: language | kk Blog —— 通用基础]]></title>
  <link href="http://abcdxyzk.github.io/blog/cats/language/atom.xml" rel="self"/>
  <link href="http://abcdxyzk.github.io/"/>
  <updated>2024-07-15T14:01:10+08:00</updated>
  <id>http://abcdxyzk.github.io/</id>
  <author>
    <name><![CDATA[kk]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[iconv与mb_convert_encoding的使用]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/07/15/lang-php-iconv/"/>
    <updated>2024-07-15T13:37:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/07/15/lang-php-iconv</id>
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/cihan7608/article/details/100621402">https://blog.csdn.net/cihan7608/article/details/100621402</a></p>

<h4>iconv</h4>

<pre><code>    $getcontent = iconv("GBK", "UTF-8", '测试');
    print_r($getcontent);
</code></pre>

<h4>mb_convert_encoding</h4>

<p>一般情况下用 iconv，只有当遇到无法确定原编码是何种编码，或者iconv转化后无法正常显示时才用mb_convert_encoding 函数</p>

<pre><code>    $getcontent = mb_convert_encoding($contents, "UTF-8", "auto");
    print_r($getcontent);
</code></pre>

<pre><code>    $getcontent = mb_convert_encoding($contents, "UTF-8", 'UTF-8,GBK');
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript的三种弹出提示框(alert、confirm、prompt)]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/07/15/lang-web-box/"/>
    <updated>2024-07-15T11:20:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/07/15/lang-web-box</id>
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_43883917/article/details/109585430">https://blog.csdn.net/weixin_43883917/article/details/109585430</a></p>

<p>三种提示框</p>

<p>  alert ()</p>

<p>  confirm()</p>

<p>  prompt ()</p>

<h4>alert ()</h4>

<p>alert()方法是显示一条弹出提示消息和确认按钮的警告框。</p>

<p>需要注意的是 ：alert()是一个阻塞的函数，如果我们不点确认按钮，后面的内容就不会加载出来。</p>

<pre><code>    alert("想要提示的文本内容")
</code></pre>

<h4>confirm()</h4>

<p>confirm()方法是显示一个含有指定消息和确认和取消按钮的确认框。</p>

<p>如果点击"确定"返回true，否则返回false。</p>

<pre><code>    var x; 
    var r = confirm("请按下按钮!");
    if (r == true) {
        x = "你按下的是\"确定\"按钮。";
    } else {
        x = "你按下的是\"取消\"按钮。";
    }
    document.write(x)
</code></pre>

<h4>prompt ()</h4>

<p>prompt()方法是显示提示用户进行输入的对话框。</p>

<p>这个方法返回的是用户输入的字符串。</p>

<pre><code>    var x; 
    var name = prompt("请输入你的名字","Keafmd"); 
    if (name != null &amp;&amp; person != ""){ 
        x = "你好! " + name + "。";
        document.write(x)
    }
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript复制内容到剪切板]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/07/15/lang-web-copy/"/>
    <updated>2024-07-15T11:16:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/07/15/lang-web-copy</id>
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/qigege/p/17461710.html">https://www.cnblogs.com/qigege/p/17461710.html</a></p>

<p>复制内容到剪切板分两种情况:</p>

<p>一种是从页面已有的可选元素中选中内容进行复制</p>

<p>一种是将Javascript代码中的字符串直接复制到剪切板。</p>

<h4>复制页面元素选中内容</h4>

<pre><code>    &lt;input type="textarea" id="txt" /&gt;
    &lt;button onclick="copy()"&gt;复制&lt;/button&gt;


    function copy() {
        var element = document.getElementById("txt");
        element.select();
        element.setSelectionRange(0, element.value.length);
        document.execCommand('copy');
        alert("已复制到剪切板");
       }
</code></pre>

<h4>复制字符串到剪切板</h4>

<p>复制字符串采用临时添加一个元素，模拟选中内容进行选中的方式进行复制，复制后移除临时添加的元素即可。</p>

<pre><code>    //复制文本
    function copyText(text) {
        var element = createElement(text);
        element.select();
        element.setSelectionRange(0, element.value.length);
        document.execCommand('copy');
        element.remove();
        alert("已复制到剪切板");
    }

    //创建临时的输入框元素
    function createElement(text) {
        var isRTL = document.documentElement.getAttribute('dir') === 'rtl';
        var element = document.createElement('textarea');
        // 防止在ios中产生缩放效果
        element.style.fontSize = '12pt';
        // 重置盒模型
        element.style.border = '0';
        element.style.padding = '0';
        element.style.margin = '0';
        // 将元素移到屏幕外
        element.style.position = 'absolute';
        element.style[isRTL ? 'right' : 'left'] = '-9999px';
        // 移动元素到页面底部
        let yPosition = window.pageYOffset || document.documentElement.scrollTop;
        element.style.top = `${yPosition}px`;
        //设置元素只读
        element.setAttribute('readonly', '');
        element.value = text;
        document.body.appendChild(element);
        return element;
    }
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[alert 弹窗去掉上方 title 网址域名]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/07/15/lang-web-alert/"/>
    <updated>2024-07-15T10:56:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/07/15/lang-web-alert</id>
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/joe235/p/13389213.html">https://www.cnblogs.com/joe235/p/13389213.html</a></p>

<h4>1. alert()方法重写. 微信中不起作用?</h4>

<pre><code>    window.alert = function (name) {
      const iframe = document.createElement('IFRAME');
      iframe.style.display = 'none';
      iframe.setAttribute('src', 'data:text/plain,');
      document.documentElement.appendChild(iframe);
      window.frames[0].window.alert(name);
      iframe.parentNode.removeChild(iframe);
    };
</code></pre>

<h4>完全替换</h4>

<pre><code>    &lt;!-- alert 替代 --&gt;
    &lt;script type="text/javascript"&gt;
        cssCode = "&lt;style type='text/css'&gt;"
            + ".nbaMask { position: fixed; z-index: 1000; top: 0; right: 0; left: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); } "
            + ".nbaMaskTransparent { position: fixed; z-index: 1000; top: 0; right: 0; left: 0; bottom: 0; } "
            + ".nbaDialog { position: fixed; z-index: 5000; width: 80%; max-width: 500px; top: 50%; left: 50%; -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%); background-color: #fff; text-align: center; border-radius: 8px; overflow: hidden; opacity: 1; color: white; }"
            + ".nbaDialog .nbaDialogHd { padding: .2rem .27rem .08rem .27rem; text-align: left; padding-left: 10px; padding-top: 10px; } "
            + ".nbaDialog .nbaDialogHd .nbaDialogTitle { color:black; font-size: 17px; font-weight: 400; } "
            + ".nbaDialog .nbaDialogBd { padding: 0 .27rem; font-size: 15px; line-height: 1.3; word-wrap: break-word; word-break: break-all; color: #000000; } "
            + ".nbaDialog .nbaDialogFt { background: #1a6ada; float: right; margin-right:10px; margin-bottom:10px; position: relative; border-radius: 5px; width:60px;  line-height: 30px; font-size: 15px; display: -webkit-box; display: -webkit-flex; display: flex; } "
            + ".nbaDialog .nbaDialogFt:after { content: ' '; position: absolute; left: 0; top: 0; right: 0; height: 1px; border-top: 1px solid #e6e6e6; color: #e6e6e6; -webkit-transform-origin: 0 0; transform-origin: 0 0; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); } "
            + ".nbaDialog .nbaDialogBtn { display: block; -webkit-box-flex: 1; -webkit-flex: 1; flex: 1; color: white; text-decoration: none; -webkit-tap-highlight-color: transparent; position: relative; margin-bottom: 0; } "
            + ".nbaDialog .nbaDialogBtn:after { content: ' '; position: absolute; left: 0; top: 0; width: 1px; bottom: 0; border-left: 1px solid #e6e6e6; color: #e6e6e6; -webkit-transform-origin: 0 0; transform-origin: 0 0; -webkit-transform: scaleX(0.5); transform: scaleX(0.5); } "
            + ".nbaDialog a { text-decoration: none; -webkit-tap-highlight-color: transparent; }"
            + "&lt;/style&gt;";

        htmlCode = "&lt;div id='dialogs2' style='display: none'&gt;"
            + "  &lt;div class='nbaMask'&gt;&lt;/div&gt;"
            + "  &lt;div class='nbaDialog'&gt;"
            + "    &lt;div class='nbaDialogHd'&gt;"
            + "        &lt;strong class='nbaDialogTitle'&gt;提示：&lt;/strong&gt;"
            + "    &lt;/div&gt;&lt;br&gt;"
            + "    &lt;div class='nbaDialogBd' id='dialog_msg2' style='white-space:normal;'&gt;弹窗内容，告知当前状态、信息和解决方法，描述文字尽量控制在三行内&lt;/div&gt;"
            + "    &lt;div class='nbaDialogHd'&gt;"
            + "        &lt;strong class='nbaDialogTitle'&gt;&lt;/strong&gt;"
            + "    &lt;/div&gt;&lt;br&gt;"
            + "    &lt;div class='nbaDialogFt'&gt;"
            + "        &lt;a href='javascript:;' class='nbaDialogBtn nbaDialogBtnPrimary' id='dialog_ok2'&gt;确定&lt;/a&gt;"
            + "    &lt;/div&gt;"
            + "  &lt;/div&gt;"
            + "&lt;/div&gt;";

        htmlCode2 = "&lt;div id='dialogs22' style='display: none;'&gt;"
            + "  &lt;div class='nbaDialog' id='dialogs22_s' style='background:gray; top:50%; border-radius: 18px;'&gt;"
            + "    &lt;div class='nbaDialogBd' id='dialog_msg22' style='white-space:normal; color:white;padding-top:10px;'&gt;弹窗内容，告知当前状态、信息和解决方法，描述文字尽量控制在三行内&lt;/div&gt;"
            + "    &lt;div class='nbaDialogHd'&gt;"
            + "        &lt;strong class='nbaDialogTitle'&gt;&lt;/strong&gt;"
            + "    &lt;/div&gt;"
            + "  &lt;/div&gt;"
            + "&lt;/div&gt;";


    //window.alert = function(msg, callback) {
    window.alert = function(msg) {
        var div = document.createElement("div");
        div.innerHTML = cssCode + htmlCode;
        document.body.appendChild(div);

        var dialogs2 = document.getElementById("dialogs2");
        dialogs2.style.display = 'block';

        var dialog_msg2 = document.getElementById("dialog_msg2");
        dialog_msg2.innerHTML = msg;

        // var dialog_cancel = document.getElementById("dialog_cancel");
        //  dialog_cancel.onclick = function() {
        //  dialogs2.style.display = 'none';
        // };
        var dialog_ok2 = document.getElementById("dialog_ok2");
        dialog_ok2.onclick = function() {
            dialogs2.style.display = 'none';
            //callback();
        };
    };

    function dnone()
    {
        var dialogs2 = document.getElementById("dialogs22");
        dialogs2.style.display = 'none';
    }

    window.alert2 = function(msg, imgid) {
        var div = document.createElement("div");
        div.innerHTML = cssCode + htmlCode2;
        document.body.appendChild(div);

        var dialogs2 = document.getElementById("dialogs22");
        dialogs2.style.display = 'block';

        // TODO 手机有缩放
        //var img = document.getElementById(imgid);
        //var dialogs2_s = document.getElementById("dialogs22_s");
        //dialogs2_s.style.top = Math.max(20, img.x - 20);

        var dialog_msg2 = document.getElementById("dialog_msg22");
        dialog_msg2.innerHTML = msg;

        setTimeout("dnone()", 2*1000);
    };

    &lt;/script&gt;
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[PHP中的date_sun_info()函数, 日落/日出时间]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/06/20/lang-php-date_sun_info/"/>
    <updated>2024-06-20T15:21:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/06/20/lang-php-date_sun_info</id>
    <content type="html"><![CDATA[<p><a href="https://www.php.cn/faq/609644.html">https://www.php.cn/faq/609644.html</a></p>

<pre><code>    date_sun_info(timestamp, latitude, longitude)
</code></pre>

<h4>参数</h4>

<pre><code>时间戳 - 时间戳。必填。

纬度 - 纬度(以度为单位)。必需

经度 - 以度为单位的经度。必需
</code></pre>

<h4>返回</h4>

<p>date_sun_info() 函数返回一个数组，其中包含有关日落/日出和黄昏开始/结束的信息。</p>

<p>数组的结构在下面的列表中有详细说明 -</p>

<p>  sunrise - 日出的时间(天顶角 = 90°35')。</p>

<p>  sunset - 日落时间(天顶角 = 90°35')。</p>

<p>  transit - 凌日 - 太阳处于天顶的时间，即到达最高点的时间。</p>

<p>  civil_twilight_begin - 民用黎明的开始(天顶角 = 96°)。它在日出时结束。</p>

<p>  civil_twilight_end - 民用黄昏的结束(天顶角 = 96°)。它从日落开始。</p>

<p>  nautical_twilight_begin - 航海黎明的开始(天顶角 = 102°)。它结束于 civil_twilight_begin。</p>

<p>  nautical_twilight_end - 航海黄昏的结束(天顶角 = 102°)。它从 civil_twilight_end 开始。</p>

<p>  astronomical_twilight_begin - 天文黎明的开始(天顶角 = 108°)。它结束于 nautical_twilight_begin。</p>

<p>  astronomical_twilight_end - 天文黄昏的结束(天顶角 = 108°)。它从 nautical_twilight_end 开始。</p>

<h4>示例</h4>

<pre><code>    $info = date_sun_info(strtotime("2018-09-23"), 31.7667, 35.2333);

    foreach ($info as $key =&gt; $val) {
        echo "$key: " . date("H:i:s", $val) . "&lt;/p&gt;&lt;p&gt;";
    }
</code></pre>

<pre><code>    sunrise: 03:28:06
    sunset: 15:34:29
    transit: 09:31:18
    civil_twilight_begin: 03:03:51
    civil_twilight_end: 15:58:44
    nautical_twilight_begin: 02:35:30
    nautical_twilight_end: 16:27:05
    astronomical_twilight_begin: 02:06:54
    astronomical_twilight_end: 16:55:41
</code></pre>
]]></content>
  </entry>
  
</feed>
