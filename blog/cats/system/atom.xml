<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: system | kk Blog —— 通用基础]]></title>
  <link href="http://abcdxyzk.github.io/blog/cats/system/atom.xml" rel="self"/>
  <link href="http://abcdxyzk.github.io/"/>
  <updated>2024-04-26T14:38:06+08:00</updated>
  <id>http://abcdxyzk.github.io/</id>
  <author>
    <name><![CDATA[kk]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[USB-Serial Controller D USB转串口驱动]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/03/26/db9/"/>
    <updated>2024-03-26T19:14:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/03/26/db9</id>
    <content type="html"><![CDATA[<p>www.equdong.net/qtrj/usbdrv/15640.html</p>

<p>USB-Serial Controller D USB转串口驱动是官方提供的一款USB驱动，本站收集提供高速下载，用于解决USB接口不能正常识别，无法正常使用的问题，本动适用于：Windows XP / Windows 7 / Windows 8 / Windows 10 32/64位操作系统。有需要的朋友可以来本站下载安装。</p>

<p><img src="/images/system/20240326-5.jpg" alt="" /></p>

<p><a href="/download/system/PL2303_Prolific_DriverInstaller_v1_7_0.zip">PL2303_Prolific_DriverInstaller_v1_7_0.zip</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[华汉维无线wifi温湿度TH40W-E]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/03/26/TH40W-E/"/>
    <updated>2024-03-26T18:55:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/03/26/TH40W-E</id>
    <content type="html"><![CDATA[<p><a href="http://www.1weilian.com">http://www.1weilian.com</a></p>

<h4>易维联</h4>

<p>是实时掌握温度的远程控制软件，应用中有时间段查询功能，用户可以选择不同的开始和结束时间来查询数据内容；拥有区域选择功能，用户可以选择不同的区域查看各个区域设备详情。</p>

<p><img src="/images/system/20240326-2.png" alt="" /></p>

<p><img src="/images/system/20240326-3.png" alt="" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[山特UPS软件Winpower]]></title>
    <link href="http://abcdxyzk.github.io/blog/2024/03/26/ups-winpower/"/>
    <updated>2024-03-26T18:47:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2024/03/26/ups-winpower</id>
    <content type="html"><![CDATA[<p><a href="https://post.smzdm.com/p/aevwqww3/">https://post.smzdm.com/p/aevwqww3/</a></p>

<p>1、下载Winpower最新版本，目前官网提供的最新版本为Winpower标准版 6.2.0.0 版本 Windows 平台安装档；支援 Windows XP/2003/2008/Vista/7/8/10/Server2008/Server2012/Server2016/ Server2019/Server2022</p>

<p><a href="https://osscn.santak.com.cn/Winpower_setup_Windows.zip">软件下载 Winpower_setup_Windows.zip</a></p>

<p><img src="/images/system/20240326-1.png" alt="" /></p>

<p><a href="https://osscn.santak.com.cn/3C10KS%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C.pdf">https://osscn.santak.com.cn/3C10KS%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C.pdf</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ubuntu安装vulkan]]></title>
    <link href="http://abcdxyzk.github.io/blog/2023/12/10/ubuntu-vulkan/"/>
    <updated>2023-12-10T16:37:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2023/12/10/ubuntu-vulkan</id>
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/luolinll1212/article/details/113261022">https://blog.csdn.net/luolinll1212/article/details/113261022</a></p>

<h2>安装</h2>

<h4>2.1 方式一</h4>

<pre><code>    sudo apt-get install cmake git gcc g++ mesa-* libwayland-dev libxrandr-dev
    sudo apt-get install libvulkan1 mesa-vulkan-drivers vulkan-utils
    vulkaninfo
</code></pre>

<h4>2.2 方式二 （推荐）</h4>

<pre><code>    sudo apt-get install cmake git gcc g++ mesa-* libwayland-dev libxrandr-dev 
    sudo apt-get install libvulkan1 mesa-vulkan-drivers vulkan-utils libxcb-keysyms1-dev
    sudo apt-get install libxcb1-dev libx11-dev
    wget https://sdk.lunarg.com/sdk/download/1.2.162.1/linux/vulkansdk-linux-x86_64-1.2.162.1.tar.gz
    mkdir vulkan 
    mv vulkansdk-linux-x86_64-1.2.162.1.tar.gz vulkan
    cd vulkan
    tar xf vulkansdk-linux-x86_64-1.2.162.1.tar.gz
    # 下载github
    cd 1.2.162.1/source/shaderc
    python update_shaderc_sources.py 
    # 编译
    cd 1.2.162.1
    bash vulkansdk  # 编译vulkan
    source setup-env.sh # vulkan -&gt; 系统环境变量
    ./x86_64/bin/vulkaninfo
</code></pre>

<h3>2.3 方式三</h3>

<pre><code>    git clone https://github.com/SaschaWillems/Vulkan.git
    git submodule sync
    git submodule update --init --recursive
    mkdir build
    cd build
    cmake ..
    make
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ubuntu18.04 编译php8.1 fpm, 连接apache2, mariadb]]></title>
    <link href="http://abcdxyzk.github.io/blog/2023/08/05/php-apache2-mysql/"/>
    <updated>2023-08-05T16:42:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2023/08/05/php-apache2-mysql</id>
    <content type="html"><![CDATA[<p>下载 <a href="https://www.php.net/downloads.php">https://www.php.net/downloads.php</a></p>

<h2>一、编译安装php</h2>

<p><a href="https://www.cnblogs.com/architectforest/p/15714248.html">https://www.cnblogs.com/architectforest/p/15714248.html</a></p>

<h4>依赖</h4>

<pre><code>    sudo apt-get install gcc g++ libxml2-dev pkg-config libkrb5-dev libssl-dev libsqlite3-dev zlib1g-dev libbz2-dev libcurl4-openssl-dev libpng-dev libjpeg-dev libfreetype-dev libonig-dev libxslt-dev libzip-dev
</code></pre>

<h4>配置:</h4>

<p>安装目录为 /usr/local/php8</p>

<pre><code>    ./configure --prefix=/usr/local/php8 --with-config-file-path=/usr/local/php8/etc --with-curl --with-freetype --enable-gd --with-jpeg  --with-gettext --with-kerberos --with-libdir=lib64 --with-libxml --with-mysqli --with-openssl --with-pdo-mysql  --with-pdo-sqlite --with-pear --enable-sockets --with-mhash --with-ldap-sasl --with-xsl --with-zlib --with-zip -with-bz2 --with-iconv  --enable-fpm --enable-pdo --enable-ftp --enable-bcmath  --enable-mbregex --enable-mbstring --enable-opcache --enable-pcntl  --enable-shmop --enable-soap --enable-sockets --enable-sysvsem --enable-xml --enable-sysvsem --enable-cli --enable-opcache --enable-intl --enable-calendar --enable-static --enable-mysqlnd
</code></pre>

<h4>编译安装</h4>

<pre><code>    make
    make install
</code></pre>

<h4>配置文件</h4>

<p>在编译目录
php.ini
<code>
    cp php.ini-production /usr/local/php8/etc/php.ini
</code></p>

<p>www.conf
<code>
    cp /usr/local/php8/etc/php-fpm.d/www.conf.default /usr/local/php8/etc/php-fpm.d/www.conf
</code></p>

<p>php-fpm.conf
<code>
    cp /usr/local/php8/etc/php-fpm.conf.default /usr/local/php8/etc/php-fpm.conf
</code></p>

<p>配置用户</p>

<pre><code>    vim /usr/local/php8/etc/php-fpm.d/www.conf

    ;user = nobody
    ;group = nobody
    user = apache
    group = apache
</code></pre>

<h4>生成启动文件</h4>

<p>在编译目录
```
    cp sapi/fpm/php-fpm.service /etc/systemd/system/</p>

<pre><code>vim /etc/systemd/system/php-fpm.service

# Mounts the /usr, /boot, and /etc directories read-only for processes invoked by this unit.
#ProtectSystem=full
ProtectSystem=false
</code></pre>

<pre><code>
把 ProtectSystem=full修改为: ProtectSystem=false

#### 启动
</code></pre>

<pre><code>systemctl daemon-reload

systemctl restart php-fpm


netstat -ltnup | grep 9000
tcp        0      0 127.0.0.1:9000          0.0.0.0:*               LISTEN      12374/php-fpm: mast
</code></pre>

<pre><code>
## 编译安装mysqli拓展

https://www.cnblogs.com/sqsgoodluck/p/16659116.html

编译的时候已经默认包含了？

#### mysqlnd
</code></pre>

<pre><code>cd ext/mysqlnd

/usr/local/php8/bin/phpize

./configue
make
make install
</code></pre>

<pre><code>
#### mysqli
</code></pre>

<pre><code>cd ext/mysqli

/usr/local/php8/bin/phpize

./configue
make
make install
</code></pre>

<pre><code>
## apache2 使用 php-fpm

https://www.php.cn/faq/503744.html

我们需要了解Apache服务器与PHP语言之间的关系。Web服务器通过模块来扩展或优化其功能。对于Apache而言，它通过一个叫做“模块”的方式来扩展它的功能。而在Apache的模块中，就有一个关于PHP解释器的模块，可以让Apache服务器在运行时对PHP文件的解析和执行提供支持。


https://blog.csdn.net/yueyecheshou1980/article/details/106229421

使用 PHP-FPM 就意味着不用 Apache 内置的 mod_php，也就是要在 Apache 之外处理 php 程序的解释运行问题。看起来是多引入了一个额外的程序 PHP-FPM，既占 CPU 又占内存。但是这样一来，因为 Apache 可以专心处理除 php 之外的静态网页及元素，反而 httpd 进程本身占用的 CPU 和内存可以显著降低，从而从整体上降低资源消耗。


https://blog.csdn.net/paul_god/article/details/125251431

要想使php支持php-fpm，只需要找到你当初安装的源码,重新编译一下,在编译的时候带上 --enable-fpm 就可以了。


#### PHP-FPM 监听方式

官方文档提到的 PHP-FPM 监听方式（接收 Apache 转过去的处理 PHP 的请求的方式）有 2 个。这是在 PHP-FPM 的 pool 配置文件，如 /etc/php-fpm.d/www.conf 中设置的监听方式。分别如下，

vim /usr/local/php8/etc/php-fpm.d/www.conf
</code></pre>

<pre><code>TCP socket （IP 和 port）
listen = 127.0.0.1:9000
</code></pre>

<pre><code>就表示使用 TCP socket 方式。

Unix Domain Socket （UDS）（Apache 2.4.9 及以上版本才支持此方式），通过路径指明 socket 的位置 /path/to/unix/socket，例如，
</code></pre>

<pre><code>listen = /var/run/php-fpm/php-fpm.sock
</code></pre>

<pre><code>就表示使用 UDS 方式。

因为暂时 CentOS 7 中默认的还是 Apache 2.4.6

#### Apache 发送 PHP 处理请求的方式

原来的 mod_php 采用 SetHandler 的方式处理 php 文件并不需要特别的设置，因为在安装 PHP 的时候会自动在 Apache 的配置文件目录写入一个 php.conf 的配置文件，里面有告诉 Apache 处理 php 需要的操作：

vim /etc/apache2/apache2.conf
</code></pre>

<pre><code>&lt;FilesMatch .php$&gt;
    SetHandler "proxy:fcgi://127.0.0.1:9000"
&lt;/FilesMatch&gt;
</code></pre>

<pre><code>
service apache2 restart

## php-fpm 连接 mysql

https://blog.csdn.net/youcijibi/article/details/77002714

service php-fpm restart

service php-fpm status

因为mysqlnd并不是一个php的扩展，所以会报错：

NOTICE: PHP message: PHP Warning:  PHP Startup: Invalid library (maybe not a PHP library) 'mysqlnd.so' in Unknown on line 0


只要在php.ini里指定好mysql.sock的位置即可：大约在1023行

vim /usr/local/php8/etc/php.ini
</code></pre>

<pre><code>[Pdo_mysql]
pdo_mysql.default_socket=/var/run/mysqld/mysqld.sock

mysqli.default_socket = /var/run/mysqld/mysqld.sock
</code></pre>

<p>```</p>

<p>service php-fpm restart</p>

<p>这样php即可与mysql进行通信</p>
]]></content>
  </entry>
  
</feed>
