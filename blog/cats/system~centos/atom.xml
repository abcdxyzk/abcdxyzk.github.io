<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: system~centos | kk Blog —— 通用基础]]></title>
  <link href="http://abcdxyzk.github.io/blog/cats/system~centos/atom.xml" rel="self"/>
  <link href="http://abcdxyzk.github.io/"/>
  <updated>2023-01-24T19:27:19+08:00</updated>
  <id>http://abcdxyzk.github.io/</id>
  <author>
    <name><![CDATA[kk]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[CentOS的pcspkr模块, 报警声]]></title>
    <link href="http://abcdxyzk.github.io/blog/2022/10/01/centos-bill/"/>
    <updated>2022-10-01T21:50:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2022/10/01/centos-bill</id>
    <content type="html"><![CDATA[<p><a href="http://code.js-code.com/centos/120705.html">http://code.js-code.com/centos/120705.html</a></p>

<h4>加载pcspkr模块打开beep</h4>

<pre><code>    [root@localhost~]# modprobe pcspkr
    [root@localhost~]# lsmod | grep pcspkr
    pcspkr  20000
</code></pre>

<h4>卸载pcspkr模块关闭beep</h4>

<pre><code>    [root@localhost~]# rmmod pcspkr
</code></pre>

<h4>永久禁止加载pcspkr模块</h4>

<pre><code>    [root@localhost~]# vim /etc/modprobe.d/blacklist.conf
    blacklist pcspkr


    [root@localhost~]# vim /etc/rc.local
    /sbin/rmmod pcspkr
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CentOS 1G以内内存调优]]></title>
    <link href="http://abcdxyzk.github.io/blog/2022/08/20/centos-setting/"/>
    <updated>2022-08-20T16:18:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2022/08/20/centos-setting</id>
    <content type="html"><![CDATA[<pre><code>    echo 1 &gt; /proc/sys/kernel/softlockup_panic

    echo 0 &gt; /proc/sys/net/mptcp/mptcp_enabled
    echo 0 &gt; /proc/sys/net/ipv4/tcp_timestamps
    echo 0 &gt;  /proc/sys/net/ipv4/tcp_max_tw_buckets
    echo "4096 16384 256000" &gt; /proc/sys/net/ipv4/tcp_wmem
    echo "4096 16384 256000" &gt; /proc/sys/net/ipv4/tcp_rmem
    echo 6 &gt; /proc/sys/net/ipv4/tcp_retries2
    echo 0 &gt; /proc/sys/net/ipv4/tcp_syncookies
    # echo 128 &gt; /proc/sys/net/ipv4/tcp_max_syn_backlog

    echo 99 &gt; /proc/sys/vm/swappiness
    service irqbalance stop

    #rm -rf /usr/local/share/aliyun-assist/
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[CentOS救援模式--rescue模式]]></title>
    <link href="http://abcdxyzk.github.io/blog/2021/07/20/centos-resuce/"/>
    <updated>2021-07-20T15:58:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2021/07/20/centos-resuce</id>
    <content type="html"><![CDATA[<p><a href="https://www.cnblogs.com/chenglee/p/10383885.html">https://www.cnblogs.com/chenglee/p/10383885.html</a></p>

<p>用途：系统无法进入，如grub损坏或某个配置文件改错</p>

<p>进入系统安装盘界面，先选Troubleshooting，再选Rescue installed system</p>

<p><img src="/images/system/20210720-11.png" alt="" /></p>

<p><img src="/images/system/20210720-12.png" alt="" /></p>

<p>进入后等待最终进入提示模式，输入 1 或 3 回车</p>

<p><img src="/images/system/20210720-13.png" alt="" /></p>

<p>然后输入chroot /mnt/sysimage 切换到原linux系统，切换后前缀会变为bash ，然后就可以修改root密码或配置文件了</p>

<p><img src="/images/system/20210720-14.png" alt="" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[centos 设置默认启动内核]]></title>
    <link href="http://abcdxyzk.github.io/blog/2020/05/19/centos-set-kernel/"/>
    <updated>2020-05-19T11:21:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2020/05/19/centos-set-kernel</id>
    <content type="html"><![CDATA[<p><a href="https://www.4spaces.org/centos7-change-kernel-order/">https://www.4spaces.org/centos7-change-kernel-order/</a></p>

<h4>查看当前默认启动内核</h4>

<pre><code>    grub2-editenv list
</code></pre>

<h4>查看所有内核</h4>

<pre><code>    cat /boot/grub2/grub.cfg | grep menuentry
    menuentry 'CentOS Linux (3.10.0-693.5.2.el7.x86_64) 7 (Core)' --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.10.0-693.el7.x86_64-advanced-a5c5c2e2-9baf-46e5-9703-ee9d6b421f66' {
</code></pre>

<h4>设置新的启动内核</h4>

<pre><code>    grub2-set-default 'CentOS Linux (3.10.0-693.5.2.el7.x86_64) 7 (Core)'
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[vnc远程连接，远程登录服务器或者虚拟机]]></title>
    <link href="http://abcdxyzk.github.io/blog/2015/07/06/centos-vnc/"/>
    <updated>2015-07-06T18:06:00+08:00</updated>
    <id>http://abcdxyzk.github.io/blog/2015/07/06/centos-vnc</id>
    <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/gg296231363/article/details/6899655">http://blog.csdn.net/gg296231363/article/details/6899655</a></p>

<h3>服务器端</h3>

<p>1 安装
<code>
    yum install vnc* tigervnc tigervnc-server pixman pixman-devel libXfont
</code></p>

<p>2
<code>
    vi /etc/sysconfig/vncservers
</code>
  修改成
<code>
    VNCSERVERS="2:root"
    VNCSERVERARGS[2]="-geometry 800x600"
</code></p>

<p>3 设置登录密码
<code>
    vncpasswd
</code></p>

<p>4
<code>
    service vncserver start
    service iptables stop
</code></p>

<h3>客户机端</h3>

<pre><code>    vncviewer IP:PORT
</code></pre>

<p>centos5 有可能出现的错误
```
    $ vncviewer 127.0.0.1:5900</p>

<pre><code>VNC Viewer Free Edition 4.1.2 for X - built Apr 20 2011 12:04:25
Copyright (C) 2002-2005 RealVNC Ltd.
See http://www.realvnc.com for information on VNC.

Mon Jul  6 14:16:43 2015
 CConn:       connected to host 127.0.0.1 port 5900
 CConnection: Server supports RFB protocol version 3.8 
 CConnection: Using RFB protocol version 3.8 
 TXImage:     Using default colormap and visual, TrueColor, depth 24. 
 CConn:       Using pixel format depth 6 (8bpp) rgb222
 CConn:       Using ZRLE encoding

Mon Jul  6 14:16:44 2015
 CConn:       Throughput 20000 kbit/s - changing to hextile encoding
 CConn:       Throughput 20000 kbit/s - changing to full colour
 CConn:       Using pixel format depth 24 (32bpp) little-endian rgb888
 CConn:       Using hextile encoding
unknown message type 98
 main:        unknown message type
</code></pre>

<pre><code>加上 -FullColor 选项就好
</code></pre>

<pre><code>$ vncviewer -FullColor 127.0.0.1:5900
</code></pre>

<pre><code>
-----------

#### 不是必需
5
</code></pre>

<pre><code>vi ~/.vnc/xstartup
gnome-session &amp;   //添加gnome，使用gnome图形界面登录
#twm &amp;            //注销默认的窗口管理器 简陋而且很多图形显示不了

service vncserver restart
</code></pre>

<p>```</p>
]]></content>
  </entry>
  
</feed>
